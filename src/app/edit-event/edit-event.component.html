<div class="container">
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link" (click)="changeEditEvent()" [class.active]="editEvent">Edit event</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="changeImageEvent()" [class.active]="editImage">Add or change picture</a>
    </li>
  </ul>
</div>
<div *ngIf="editEvent" class="container-fluid" style="margin-top: 40px;">
  <div class="row">
    <div class="col-8 offset-2">
      <h3 class="card-header">Edit event <span *ngIf="errorMessage" class="text-success">{{errorMessage}}</span></h3>
      <div class="form-group row" style="margin-top: 20px;">
        <label for="name" class="col-4 col-form-label">Event name: </label>
        <div class="col-8">
          <input class="form-control" id="name" name="name" [(ngModel)]="name">
        </div>
      </div>

      <div class="form-group row">
        <label for="description" class="col-4 col-form-label">Description: </label>
        <div class="col-8">
          <input class="form-control" [(ngModel)]="description" value="Say something about the event" id="description"
                 name="description">
        </div>
      </div>

      <div class="form-group row">
        <label for="place" class="col-4 col-form-label">Place: </label>
        <div class="col-8">
          <input class="form-control" [(ngModel)]="place" value="Say something about the event" id="place"
                 name="place">
        </div>
      </div>

      <div class="form-group row">
        <label for="place" class="col-4 col-form-label">City: </label>
        <div class="col-8">
          <div class="dropdown">

            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown"
                     aria-expanded="false">
              <span *ngIf="city">{{city.name}}</span>
            </button>

            <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
              <button (click)="city = c" class="dropdown-item" type="button" *ngFor="let c of cities">
                {{c.name}}
              </button>
            </div>

          </div>
        </div>
      </div>

      <!--<div class="form-group row">
        <label class="col-4 col-form-label">Start and end date: </label>
        <div class="col-8">
          <ng-daterangepicker [(ngModel)]="date" [options]="options"></ng-daterangepicker>
        </div>
      </div>

      <div class="form-group row">
        <label for="what-time-starts" class="col-4 col-form-label">Event begins at: </label>
        <div class="col-8">
          <md2-datepicker id="what-time-starts" [(ngModel)]="startTime" type="time" placeholder="Start time"
                          format="HH:mm"></md2-datepicker>
        </div>
      </div>

      <div class="form-group row">
        <label for="what-time-ends" class="col-4 col-form-label">Event finishes at: </label>
        <div class="col-8">
          <md2-datepicker id="what-time-ends" [(ngModel)]="endTime" type="time" placeholder="End time"
                          format="HH:mm"></md2-datepicker>
        </div>
      </div>-->

      <div class="form-group row">
        <div class="col-12">
          <button class="btn btn-primary float-right" style="margin-left: 150px;" (click)="onUpdate()">Submit</button>
        </div>
      </div>

    </div>
  </div>
</div>



<div *ngIf="editImage">
  <div class="container">
    <image-upload [url]="'/api/event/upload/'+ eventId"
                  [max]="1" [buttonCaption]="'Select Image!'">
    </image-upload>

    <button class="btn btn-success" style="margin-top: 25px;">Finish!</button>
  </div>
</div>
