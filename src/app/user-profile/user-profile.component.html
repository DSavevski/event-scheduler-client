

<div class="card text-center">
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      <li class="nav-item">
        <a class="nav-link" [class.active]="gi" (click)="goToGI()">General info</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [class.active]="rp" (click)="goToRP()">Reset password</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [class.active]="cp" (click)="goToCP()">Change picture</a>
      </li>
      <li class="nav-item">
        <a class="nav-link">Delete account</a>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="gi" class="card-block">

  <div class="col-6">
    <!--<h4 class="card-title text-left">{{user?.firstName}} {{user?.lastName}}</h4>-->

    <span *ngIf="successrp" class="text-success text-left">{{successrp}}</span>

    <div class="form-group row">
      <label for="firstName" class="col-2 col-form-label">First name</label>
      <div class="col-8">
        <input class="form-control" id="firstName" name="firstName" [(ngModel)]="user.firstName">
      </div>
    </div>

    <div class="form-group row">
      <label for="lastName" class="col-2 col-form-label">Last name</label>
      <div class="col-8">
        <input class="form-control" id="lastName" name="lastName" [(ngModel)]="user.lastName">
        <button class="save-button btn btn-primary float-right" (click)="onSave()">Save</button>
      </div>
    </div>

  </div>
</div>


<div *ngIf="rp" class="card-block">
  <div class="col-6">
    <!--<h4 class="card-title text-left">{{user?.firstName}} {{user?.lastName}}</h4>-->

    <div class="form-group row">
      <label for="oldPassword" class="col-4 col-form-label">Old password:</label>
      <div class="col-8">
        <input [(ngModel)]="oldPassword" type="password" class="form-control" id="oldPassword" name="oldPassword">
      </div>
    </div>

    <div class="form-group row">
      <label for="newPassword" class="col-4 col-form-label">New password: </label>
      <div class="col-8">
        <input [(ngModel)]="newPassword" type="password" class="form-control" id="newPassword" name="newPassword">
      </div>
    </div>

    <div class="form-group row">
      <label for="confirmNewPassword" class="col-4 col-form-label">Confirm new password: </label>
      <div class="col-8">
        <input [(ngModel)]="confirmNewPassword" type="password" class="form-control" id="confirmNewPassword"
               name="confirmNewPassword">
        <div *ngIf="errorrp" class="alert alert-danger" role="alert">
          <strong>Oh snap!</strong> {{errorrp}}
        </div>
        <button class="btn btn-success float-right save-button" (click)="onReset()">Reset</button>
        <div *ngIf="successrp" class="alert alert-success" role="alert">
          <strong>Success!</strong> {{successrp}}
        </div>
      </div>
    </div>

  </div>
</div>


<div *ngIf="cp" class="card-block col-sm-8">
    <div class="container" style="margin-top: 25px;">
      <image-upload [url]="'/api/user/upload/'+ user.id"
                    [max]="1" [buttonCaption]="'Browse'"
                    [dropBoxMessage]="'Drop your pictures here...'">
      </image-upload>

      <button (click)="finish()" class="btn btn-success btn-block" style="margin-top: 25px;">Finish!</button>
    </div>
</div>


